{"version":3,"sources":["pages/Card/styles.module.css","pages/Home/styles.ts","pages/Home/icons.tsx","pages/Home/index.tsx","pages/Card/data.ts","pages/Card/index.tsx","App.tsx","index.tsx"],"names":["module","exports","Container","styled","Frame","Title","Content","animated","div","toggle","width","height","marginRight","cursor","verticalAlign","MinusSquareO","props","viewBox","d","PlusSquareO","CloseSquareO","Tree","React","memo","children","name","style","defaultOpen","useState","isOpen","setOpen","previous","value","ref","useRef","useEffect","current","usePrevious","useMeasure","viewHeight","useSpring","from","opacity","y","to","Icon","Icons","onClick","Home","data","calcX","ly","window","innerHeight","calcY","x","lx","innerWidth","wheel","imgHeight","Card","preventDefault","e","document","addEventListener","removeEventListener","domTarget","rotateX","rotateY","rotateZ","scale","zoom","config","mass","tension","friction","api","wheelY","wheelApi","useGesture","onDrag","active","offset","start","onPinch","a","onMove","xy","px","py","dragging","get","onHover","hovering","onWheel","event","set","eventOptions","passive","className","styles","container","card","transform","s","z","imgs","map","img","i","backgroundImage","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.83e3b394.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"styles_card__1UjuT\",\"container\":\"styles_container__3WjpE\"};","import styled from 'styled-components'\nimport { animated } from '@react-spring/web'\n\nexport const Container = styled('div')`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background: #ffffff;\n  overflow: hidden;\n  font-family: ui-monospace, monospace;\n  font-size: 14px;\n  line-height: 21px;\n  --webkit-user-select: none;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  height: 100%;\n  justify-content: center;\n`\n\nexport const Frame = styled('div')`\n  position: relative;\n  padding: 4px 0px 0px 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow-x: hidden;\n  vertical-align: middle;\n  color: #24292e;\n  fill: #24292e;\n`\n\nexport const Title = styled('span')`\n  vertical-align: middle;\n`\n\nexport const Content = styled(animated.div)`\n  will-change: transform, opacity, height;\n  margin-left: 6px;\n  padding: 0px 0px 0px 14px;\n  border-left: 1px dashed rgba(255, 255, 255, 0.4);\n  overflow: hidden;\n`\n\nexport const toggle = {\n  width: '1em',\n  height: '1em',\n  marginRight: 10,\n  cursor: 'pointer',\n  verticalAlign: 'middle',\n}\n","import React from 'react'\n\nconst MinusSquareO: React.FC = props => (\n  <svg {...props} viewBox=\"64 -65 897 897\">\n    <g>\n      <path\n        d=\"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0\n  q0 -15 -11 -25.5t-25 -10.5z\"\n      />\n    </g>\n  </svg>\n)\n\nconst PlusSquareO: React.FC = props => (\n  <svg {...props} viewBox=\"64 -65 897 897\">\n    <g>\n      <path\n        d=\"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184\n  q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\"\n      />\n    </g>\n  </svg>\n)\n\nconst CloseSquareO: React.FC = props => (\n  <svg {...props} viewBox=\"64 -65 897 897\">\n    <g>\n      <path\n        d=\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155\n  q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\"\n      />\n    </g>\n  </svg>\n)\n\nexport { PlusSquareO, MinusSquareO, CloseSquareO }\n","import React, { useRef, useState, useEffect } from 'react'\n// import { Link } from 'react-router-dom';\nimport { useSpring, a } from '@react-spring/web'\nimport useMeasure from 'react-use-measure'\nimport { Container, Title, Frame, Content, toggle } from './styles'\nimport * as Icons from './icons'\nimport { Link } from 'react-router-dom'\n\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>()\n  useEffect(() => void (ref.current = value), [value])\n  return ref.current\n}\n\ninterface TreeProp{\n  defaultOpen?: boolean;\n  name: string | JSX.Element;\n}\n\nconst Tree = React.memo<React.HTMLAttributes<HTMLDivElement> & TreeProp>\n(({ children, name, style, defaultOpen = false }) => {\n  const [isOpen, setOpen] = useState(defaultOpen)\n  const previous = usePrevious(isOpen)\n  const [ref, { height: viewHeight }] = useMeasure()\n  const { height, opacity, y } = useSpring({\n    from: { height: 0, opacity: 0, y: 0 },\n    to: {\n      height: isOpen ? viewHeight : 0,\n      opacity: isOpen ? 1 : 0,\n      y: isOpen ? 0 : 20,\n    },\n  })\n  // @ts-ignore\n  const Icon = Icons[`${children ? (isOpen ? 'Minus' : 'Plus') : 'Close'}SquareO`]\n  return (\n    <Frame>\n      <Icon style={{ ...toggle, opacity: children ? 1 : 0.3 }} onClick={() => setOpen(!isOpen)} />\n      <Title style={style}>{name}</Title>\n      <Content\n        style={{\n          opacity,\n          height: isOpen && previous === isOpen ? 'auto' : height,\n        }}>\n        <a.div ref={ref} style={{ y }} children={children} />\n      </Content>\n    </Frame>\n  )\n})\n\nexport default function Home() {\n  return (\n    <Container>\n      <Tree name=\"ðŸ¥‘ Yongwook Lee\" defaultOpen>\n        <Tree name=\"Introduction\" />\n        <Tree name=\"react-spring\" >\n          <Link to=\"/react-spring/Card\">\n            <Tree name=\"Card\"/>\n          </Link>\n        </Tree>\n      </Tree>\n    </Container>\n  )\n}\n\n","const data = [\n  'https://drscdn.500px.org/photo/126979479/w%3D440_h%3D440/v2?webp=true&v=2&sig=09ea71b0ddb91e24a59cecfb79a0189a2ab575d10372d3e8d3258e38f97a6a49',\n  'https://drscdn.500px.org/photo/435236/q%3D80_m%3D1500/v2?webp=true&sig=67031bdff6f582f3e027311e2074be452203ab637c0bd21d89128844becf8e40',\n  'https://drscdn.500px.org/photo/188823103/w%3D440_h%3D440/v2?webp=true&v=3&sig=af23265ed9beaeeeb12b4f8dfed14dd613e5139495ba4a80d5dcad5cef9e39fd',\n  'https://drscdn.500px.org/photo/216094471/w%3D440_h%3D440/v2?webp=true&v=0&sig=16a2312302488ae2ce492fb015677ce672fcecac2befcb8d8e9944cbbfa1b53a',\n  'https://drscdn.500px.org/photo/227760547/w%3D440_h%3D440/v2?webp=true&v=0&sig=d00bd3de4cdc411116f82bcc4a4e8a6375ed90a686df8488088bca4b02188c73',\n  'https://drscdn.500px.org/photo/126979479/w%3D440_h%3D440/v2?webp=true&v=2&sig=09ea71b0ddb91e24a59cecfb79a0189a2ab575d10372d3e8d3258e38f97a6a49',\n  'https://drscdn.500px.org/photo/435236/q%3D80_m%3D1500/v2?webp=true&sig=67031bdff6f582f3e027311e2074be452203ab637c0bd21d89128844becf8e40',\n]\n\nexport default data;\n","import React, { useRef, useEffect } from 'react'\nimport { useSpring, animated, to } from '@react-spring/web'\nimport { useGesture } from 'react-use-gesture'\nimport imgs from './data'\n\nimport styles from './styles.module.css'\n\nconst calcX = (y: number, ly: number) => -(y - ly - window.innerHeight / 2) / 20\nconst calcY = (x: number, lx: number) => (x - lx - window.innerWidth / 2) / 20\n\nconst wheel = (y: number) => {\n  const imgHeight = window.innerWidth * 0.3 - 20\n  return `translateY(${-imgHeight * (y < 0 ? 6 : 1) - (y % (imgHeight * 5))}px`\n}\n\nexport default function Card() {\n  useEffect(() => {\n    const preventDefault = (e: Event) => e.preventDefault()\n    document.addEventListener('gesturestart', preventDefault)\n    document.addEventListener('gesturechange', preventDefault)\n\n    return () => {\n      document.removeEventListener('gesturestart', preventDefault)\n      document.removeEventListener('gesturechange', preventDefault)\n    }\n  }, [])\n\n  const domTarget = useRef(null)\n  const [{ x, y, rotateX, rotateY, rotateZ, zoom, scale }, api] = useSpring(\n    () => ({\n      rotateX: 0,\n      rotateY: 0,\n      rotateZ: 0,\n      scale: 1,\n      zoom: 0,\n      x: 0,\n      y: 0,\n      config: { mass: 5, tension: 350, friction: 40 },\n    })\n  )\n\n  const [{ wheelY }, wheelApi] = useSpring(() => ({ wheelY: 0 }))\n\n  useGesture(\n    {\n      onDrag: ({ active, offset: [x, y] }) =>\n        api.start({ x, y, rotateX: 0, rotateY: 0, scale: active ? 1 : 1.1 }),\n      onPinch: ({ offset: [d, a] }) => api.start({ zoom: d / 200, rotateZ: a }),\n      onMove: ({ xy: [px, py], dragging }) =>\n        !dragging &&\n        api.start({\n          rotateX: calcX(py, y.get()),\n          rotateY: calcY(px, x.get()),\n          scale: 1.1,\n        }),\n      onHover: ({ hovering }) =>\n        !hovering && api.start({ rotateX: 0, rotateY: 0, scale: 1 }),\n      onWheel: ({ event, offset: [, y] }) => {\n        event.preventDefault()\n        wheelApi.set({ wheelY: y })\n      },\n    },\n    { domTarget, eventOptions: { passive: false } }\n  )\n  return (\n    <div className={styles.container}>\n      <animated.div\n        ref={domTarget}\n        className={styles.card}\n        style={{\n          transform: 'perspective(600px)',\n          x,\n          y,\n          scale: to([scale, zoom], (s, z) => s + z),\n          rotateX,\n          rotateY,\n          rotateZ,\n        }}>\n        <animated.div style={{ transform: wheelY.to(wheel) }}>\n          {imgs.map((img, i) => (\n            <div key={i} style={{ backgroundImage: `url(${img})` }} />\n          ))}\n        </animated.div>\n      </animated.div>\n    </div>\n  )\n}\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Card from \"./pages/Card\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/yongwookLee-Blog\" component = {Home}/>\n        <Route path=\"/react-spring/Card\" component = {Card}/>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}